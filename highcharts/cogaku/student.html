<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta content="noindex, nofollow" name="robots">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Cogaku</title>
  <!-- selectize -->
  <!-- Favicon -->
  <link rel="icon" href="data:,">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"
    rel="stylesheet">

  <!-- Font Awesome -->
  <script defer src="https://assets.share-wis.com/libs/font-awesome/6.6.0/solid.min.js"></script>
  <script defer src="https://assets.share-wis.com/libs/font-awesome/6.6.0/fontawesome.min.js"></script>

  <!-- Highcharts -->
  <script src="https://assets.share-wis.com/libs/highcharts@11/highcharts.js"></script>
  <script src="https://assets.share-wis.com/libs/highcharts@11/accessibility.js"></script>

  <!-- Tailwind CSS -->
  <script src="https://assets.share-wis.com/libs/tailwindcss@3/tailwindcss.js"></script>

  <style>
    body {
      font-family: 'Noto Sans', sans-serif;
      color: #212121;
    }

    /* table {
      border-radius: 8px;
      overflow: hidden;
      width: 100%;
      table-layout: auto;
      border-spacing: 0;
    }

    th,
    td {
      border: 1px solid #D4D4D8;
      text-align: center;
      padding-top: 5px;
      padding-bottom: 5px;
    } */

    .loading-container {
      visibility: visible;
    }
  </style>
</head>

<body class="bg-white">
  <div class="w-full mx-auto p-6 bg-white">
    <h2 class="text-[40px] font-semibold text-center">
      個人成績表
    </h2>
    <h3 class="text-[24px] font-semibold text-center mb-6">
      To-Beエンジニア試験（機・電・情・品）
    </h3>
    <div class="overflow-hidden rounded-lg border">
      <table class="table-auto w-full border-collapse">
        <thead>
          <tr>
            <th class="text-[20px] border-r font-semibold py-2">
              アカウント名
            </th>
            <th class="text-[20px] border-r font-semibold py-2 py-2">
              氏名
            </th>
            <th class="text-[20px] font-semibold py-2">
              受験完了日
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-[20px] border-r border-t font-medium text-center py-2">
              C0000001
            </td>
            <td class="text-[20px] border-r border-t font-medium text-center py-2">
              コガク 太郎
            </td>
            <td class="text-[20px] border-t font-medium text-center py-2">
              2024/04/15
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 全国平均表示フィルター -->
    <div class="border-solid border mt-10 p-5 rounded-lg">
      <span class="text-[24px] font-semibold">
        全国平均表示フィルター
      </span>
      <div class="flex justify-center">
        <div>
          asdasd
        </div>
        <div>
          asdasd
        </div>
        <div>
          asdasd
        </div>
        <div>
          asdasd
        </div>
      </div>
    </div>

    <!-- 総合成績 -->
    <div class="flex items-center space-x-2 my-10">
      <i class="fas fa-play-circle"></i>
      <h3 class="text-[24px] font-semibold">総合成績</h3>
    </div>
    <table class="w-2/3 table-auto border-separate border-spacing-0 overflow-hidden">
      <thead>
        <tr>
          <th class="px-4 py-2 text-center"></th>
          <th class="px-4 py-2 text-center"></th>
          <th class="px-4 py-2 border border-b-0 text-center text-[20px] font-semibold rounded-tl-lg">総合</th>
          <th class="px-4 py-2 border border-l-0 border-b-0 text-center text-[20px] font-semibold">電気電子</th>
          <th class="px-4 py-2 border border-l-0 border-b-0 text-center text-[20px] font-semibold rounded-tr-lg">機械</th>
        </tr>
      </thead>
      <tbody>
        <!-- Full Score Row -->
        <tr>
          <td class=""></td>
          <td
            class="px-4 py-2 border border-r-0 border-b-0 bg-[#F5F5F5] text-center text-[20px] font-semibold rounded-tl-lg">
            満点</td>
          <td class="px-4 py-2 border border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">60</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">30</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">30</td>
        </tr>
        <!-- 全国平均 -->
        <tr>
          <th class="px-4 py-2 bg-[#EE4344] border text-[20px] font-semibold text-center text-white rounded-tl-lg"
            rowspan="2">
            全国平均
          </th>
          <td class="px-4 py-2 border border-r-0 border-b-0 bg-white text-center text-[20px] font-semibold">得点</td>
          <td class="px-4 py-2 border border-b-0 text-right text-[20px] font-semibold">28.7</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 text-right text-[20px] font-semibold">18.7</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 text-right text-[20px] font-semibold">18.7</td>
        </tr>
        <tr>
          <td class="px-4 py-2 border border-r-0 border-b-0 bg-[#F5F5F5] text-center text-[20px] font-semibold">正解率</td>
          <td class="px-4 py-2 border border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">47.8</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">47.8</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">47.8</td>
        </tr>
        <!-- 貴社平均 -->
        <tr>
          <td
            class="px-4 py-2 border text-[20px] font-semibold bg-[#3B82F6] text-[20px] font-semibold text-center text-white"
            rowspan="2">貴社平均</td>
          <td class="px-4 py-2 border border-r-0 border-b-0 bg-white text-center text-[20px] font-semibold">得点</td>
          <td class="px-4 py-2 border border-b-0 text-right text-[20px] font-semibold">29.1</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 text-right text-[20px] font-semibold">19.1</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 text-right text-[20px] font-semibold">19.1</td>
        </tr>
        <tr>
          <td class="px-4 py-2 border border-r-0 border-b-0 bg-[#F5F5F5] text-center text-[20px] font-semibold">正解率</td>
          <td class="px-4 py-2 border border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">48.5</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">48.5</td>
          <td
            class="px-4 py-2 border border-l-0 border-b-0 border-l-0 border-b-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">
            48.5</td>
        </tr>
        <!-- ご本人 -->
        <tr>
          <td
            class="px-4 py-2 border text-[20px] font-semibold bg-[#10B981] text-[20px] font-semibold text-center text-white rounded-bl-lg"
            rowspan="2">ご本人</td>
          <td class="px-4 py-2 border border-r-0 border-l-0 border-b-0 bg-white text-center text-[20px] font-semibold">
            得点</td>
          <td class="px-4 py-2 border border-b-0 text-right text-[20px] font-semibold">40</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 text-right text-[20px] font-semibold">40</td>
          <td class="px-4 py-2 border border-l-0 border-b-0 text-right text-[20px] font-semibold">20</td>
        </tr>
        <tr>
          <td class="px-4 py-2 border border-r-0 bg-[#F5F5F5] text-center text-[20px] font-semibold">正解率</td>
          <td class="px-4 py-2 border bg-[#F5F5F5] text-right text-[20px] font-semibold">66.7</td>
          <td class="px-4 py-2 border border-l-0 bg-[#F5F5F5] text-right text-[20px] font-semibold">66.7</td>
          <td class="px-4 py-2 border border-l-0 bg-[#F5F5F5] text-right text-[20px] font-semibold rounded-br-lg">66.7
          </td>
        </tr>
      </tbody>
    </table>

    <!-- 正解率分布表でのあなたの位置 -->
    <div class="flex items-center space-x-2 mt-10">
      <i class="fas fa-play-circle"></i>
      <h3 class="text-[24px] font-semibold">正解率分布表でのあなたの位置</h3>
    </div>
    <div class="mt-4">
      <!-- 全国でのあなたの位置 -->
      <h3 class="text-[24px] font-semibold">全国でのあなたの位置</h3>
      <div class="flex mt-5">
        <div id="position-nationwide-chart" class="w-2/3 h-[300px]"></div>
        <div class="flex w-1/3 pl-14">
          <div class="flex h-[150px] border overflow-hidden rounded-lg place-content-center">
            <div class="w-52 border-r text-center">
              <div class="border-b text-center py-2 text-[20px] font-semibold">
                理解度
              </div>
              <div class="py-4 text-[40px] font-medium">
                B
              </div>
            </div>
            <div class="flex text-center p-3 items-center justify-center text-center text-[20px] font-medium">
              60.0〜79.9%程度の理解度です。
            </div>
          </div>
        </div>
      </div>

      <!-- 貴社でのあなたの位置 -->
      <h3 class="text-[24px] font-semibold">貴社でのあなたの位置</h3>
      <div id="position-company-chart" class="w-2/3 h-[300px] mt-5"></div>
    </div>

    <!-- 分野別 -->
    <div class="flex items-center space-x-2 mt-10">
      <i class="fas fa-play-circle"></i>
      <h3 class="text-[24px] font-semibold">分野別</h3>
    </div>


  </div>
  <div class="loading-container fixed inset-0 flex items-center justify-center bg-gray-100 bg-opacity-50 z-50"
    id="loadingSpinner">
    <div class="text-4xl text-[#00abc9]">
      <i class="fa fa-spinner fa-spin"></i>
    </div>
  </div>
  <script>
    function getCookie(name) {
      const cookies = document.cookie.split(';');
      for (let i = 0; i < cookies.length; i++) {
        const cookie = cookies[i].trim();
        if (cookie.startsWith(`${name}=`)) {
          return cookie.substring(name.length + 1);
        }
      }
      return null;
    }

    function getPathApi() {
      const protocol = window.location.protocol
      const hostname = window.location.hostname
      const path = window.location.pathname;

      return `${protocol}//${hostname}/api/v3${path}`
    }


    // Show the loading spinner
    function showLoadingSpinner() {
      document.getElementById('loadingSpinner').style.visibility = 'visible';
    }

    // Hide the loading spinner
    function hideLoadingSpinner() {
      document.getElementById('loadingSpinner').style.visibility = 'hidden';
    }

    // Call api
    async function getExamReportData() {
      // const urlApi = getPathApi()
      // if (urlApi === null) return

      const username = document.getElementById('username')
      const courseTitle = document.getElementById('courseTitle') // Including start date
      const earnedScore = document.getElementById('earnedScore')
      const totalScore = document.getElementById('totalScore')
      const passScore = document.getElementById('passScore')
      const passStatus = document.getElementById('passStatus')
      const authCookie = getCookie('Authorization') || 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyNiIsInNjcCI6InVzZXIiLCJhdWQiOm51bGwsImlhdCI6MTcyOTgyMTYwMSwiZXhwIjoxNzMyNDEzNjAxLCJqdGkiOiJkYTdjNTMzYS1kNTdjLTRmYTQtYmU0OS00MTI4NjcyNWQ2Y2QifQ.bAEDtZr5zsUfhHElC-O0tpzrZSFyWSfYHECdrtIV4Bc';
      try {
        // const response = await fetch(urlApi, {
        //   headers: {
        //     "Content-Type": "application/json",
        //     "Authorization": "Bearer " + authCookie
        //   },
        // })
        // const responseJson = await response.json()
        const responseJson = {
          "exam": {
            "totalScore": 38,
            "totalEarnedScore": 12,
            "passScore": 20,
            "isPass": false,
            "startDate": "2024年12月12日",
            "finishDate": "2024年12月12日",
            "course": {
              "id": 9942,
              "title": "試験"
            },
            "lecture": {
              "id": 311363,
              "title": "exam custom report"
            },
            "quizzes": [
              {
                "id": 181738,
                "isCorrect": false,
                "maxScore": 0,
                "earnedScore": 0,
                "tagName": "基礎"
              },
              {
                "id": 181739,
                "isCorrect": false,
                "maxScore": 0,
                "earnedScore": 0,
                "tagName": "応用"
              },
              {
                "id": 181740,
                "isCorrect": false,
                "maxScore": 0,
                "earnedScore": 0,
                "tagName": "実践"
              },
              {
                "id": 181741,
                "isCorrect": false,
                "maxScore": 0,
                "earnedScore": 0,
                "tagName": "空間把握"
              },
              {
                "id": 181742,
                "isCorrect": false,
                "maxScore": 0,
                "earnedScore": 0,
                "tagName": "判断推理"
              },
              {
                "id": 181743,
                "isCorrect": true,
                "maxScore": 5,
                "earnedScore": 10,
                "tagName": "資料解釈"
              },
              {
                "id": 181744,
                "isCorrect": true,
                "maxScore": 7,
                "earnedScore": 14,
                "tagName": "数的推理"
              }
            ]
          },
          "user": {
            "username": "hl11113",
            "nickname": "hl11113",
            "groups": []
          }
        }

        if (responseJson != null && responseJson.exam != null && responseJson.user != null) {
          const exam = responseJson.exam
          const user = responseJson.user
          if (user.username != null) {
            username.textContent = user.username + ' さんのスコア表';
            document.title = user.username + ' さんのスコア表'
          } else {
            username.textContent = user.nickname + ' さんのスコア表';
            document.title = user.nickname + ' さんのスコア表'
          }

          courseTitle.innerHTML = exam.course.title + '<br>受験日：' + exam.startDate;
          earnedScore.textContent = exam.totalEarnedScore
          totalScore.textContent = '/ ' + exam.totalScore
          passScore.textContent = '（合格点' + exam.passScore + '点）'
          const isPass = false
          if (exam.isPass) {
            passStatus.textContent = '合格';
            passStatus.style.color = '#FF1986';
          } else {
            passStatus.textContent = '不合格';
            passStatus.style.color = '#212121';
          }
          updateChart(exam)
        }
      } catch (error) {

      } finally {
        hideLoadingSpinner()
      }
    }

    function updateChart(exam) {
      const quizzes = exam.quizzes
      const basic = quizzes.find((quiz) => quiz.tagName?.split("\n")?.includes("基礎")) //基礎
      const application = quizzes.find((quiz) => quiz.tagName?.split("\n")?.includes("応用")) //応用
      const practice = quizzes.find((quiz) => quiz.tagName?.split("\n")?.includes("実践")) //実践
      let basicPercent = Math.round((parseFloat(basic.earnedScore) / parseFloat(basic.maxScore)) * 100)
      basicPercent = basicPercent > 100 ? 100 : basicPercent
      let appPercent = Math.round((parseFloat(application.earnedScore) / parseFloat(application.maxScore)) * 100)
      appPercent = appPercent > 100 ? 100 : appPercent
      let pracPercent = Math.round((parseFloat(practice.earnedScore) / parseFloat(practice.maxScore)) * 100)
      pracPercent = pracPercent > 100 ? 100 : pracPercent
      // Data for the first chart (Accuracy by Category)


      const spatialAwareness = quizzes.find(quiz => quiz.tagName?.split("\n")?.includes("空間把握"));
      const logicalReasoning = quizzes.find(quiz => quiz.tagName?.split("\n")?.includes("判断推理"));
      const dataInterpretation = quizzes.find(quiz => quiz.tagName?.split("\n")?.includes("資料解釈"));
      const numericalReasoning = quizzes.find(quiz => quiz.tagName?.split("\n")?.includes("数的推理"));

      let spatialAwarenessPercent = Math.round((parseFloat(spatialAwareness.earnedScore) / parseFloat(spatialAwareness.maxScore)) * 100)
      spatialAwarenessPercent = spatialAwarenessPercent > 100 ? 100 : spatialAwarenessPercent
      let logicalReasoningPercent = Math.round((parseFloat(logicalReasoning.earnedScore) / parseFloat(logicalReasoning.maxScore)) * 100)
      logicalReasoningPercent = logicalReasoningPercent > 100 ? 100 : logicalReasoningPercent
      let dataInterpretationPercent = Math.round((parseFloat(dataInterpretation.earnedScore) / parseFloat(dataInterpretation.maxScore)) * 100)
      dataInterpretationPercent = dataInterpretationPercent > 100 ? 100 : dataInterpretationPercent
      let numericalReasoningPercent = Math.round((parseFloat(numericalReasoning.earnedScore) / parseFloat(numericalReasoning.maxScore)) * 100)
      numericalReasoningPercent = numericalReasoningPercent > 100 ? 100 : numericalReasoningPercent
      // Data for the second chart (Score per Category)
      Highcharts.chart('score-chart', {
        chart: {
          type: 'column'
        },
        title: {
          text: ''
        },
        xAxis: {
          categories: ['空間把握', '判断推理', '資料解釈', '数的推理'],
          title: {
            text: null
          },
          labels: {
            useHTML: true, // Allows HTML formatting in labels
            formatter: function () {
              // Check the category and apply a specific color
              let color;
              if (this.value === '空間把握') color = '#FF19B6';
              else if (this.value === '判断推理') color = '#FFA13C';
              else if (this.value === '資料解釈') color = '#009C00';
              else if (this.value === '数的推理') color = '#3B82F6';

              // Return the label with inline style
              return `<span style="color: ${color}; font-weight: normal;">${this.value}</span>`;
            }
          }
        },
        yAxis: {
          min: 0,
          max: 120, // Set the y-axis maximum to 100%
          tickInterval: 20, // Sets interval to display 0, 20, 40, 60, 80, 100
          title: {
            text: ''
          },
          labels: {
            enabled: true, // Show values on the left side
            formatter: function () {
              // Only display ticks up to 100, hide 120%
              return this.value === 120 ? null : this.value;
            }
          },
          gridLineWidth: 0,
          plotLines: [
            {
              value: 0,
              color: 'rgba(224, 224, 224, 1)',
              width: 1
            },
            {
              value: 20,
              color: 'rgba(224, 224, 224, 1)',
              width: 1
            },
            {
              value: 40,
              color: 'rgba(224, 224, 224, 1)',
              width: 1
            },
            {
              value: 60,
              color: 'rgba(224, 224, 224, 1)',
              width: 1
            },
            {
              value: 80,
              color: 'rgba(224, 224, 224, 1)',
              width: 1
            },
            {
              value: 100,
              color: 'rgba(224, 224, 224, 1)',
              width: 1
            }
          ]
        },
        tooltip: {
          enabled: false
        },
        series: [{
          data: [
            {
              y: spatialAwarenessPercent,
              color: '#FF19B6',
              dataLabels: {
                color: '#FF19B6',
                enabled: true,
                format: spatialAwarenessPercent + '%', // Set label to show 100%
                style: {
                  fontSize: '14px',
                  fontWeight: 'normal',
                  textOutline: 'none'
                },
              }
            }, // Color for 基礎
            {
              y: logicalReasoningPercent,
              color: '#FFA13C',
              dataLabels: {
                color: '#FFA13C',
                enabled: true,
                format: logicalReasoningPercent + '%', // Set label to show 100%
                style: {
                  fontSize: '14px',
                  fontWeight: 'normal',
                  textOutline: 'none'
                }
              }
            },  // Color for 応用
            {
              y: dataInterpretationPercent,
              color: '#009C00',
              dataLabels: {
                color: '#009C00',
                enabled: true,
                format: dataInterpretationPercent + '%',
                style: {
                  fontSize: '14px',
                  fontWeight: 'normal',
                  textOutline: 'none'
                }
              }
            },
            {
              y: numericalReasoningPercent,
              color: '#3B82F6',
              dataLabels: {
                color: '#3B82F6',
                enabled: true,
                format: numericalReasoningPercent + '%',
                style: {
                  fontSize: '14px',
                  fontWeight: 'normal',
                  textOutline: 'none'
                }
              }
            }
          ],
          showInLegend: false, // Hides the legend
        }],
        plotOptions: {
          column: {
            colorByPoint: true,
          }
        },
        credits: {
          enabled: false
        }
      });

      const spatialAwarenessLabel = document.getElementById('spatialAwarenessLabel')
      const spatialAwarenessAlpha = document.getElementById('spatialAwarenessAlpha')
      const spatialAwarenessLabelMobile = document.getElementById('spatialAwarenessLabelMobile')
      const spatialAwarenessAlphaMobile = document.getElementById('spatialAwarenessAlphaMobile')

      const logicalReasoningLabel = document.getElementById('logicalReasoningLabel')
      const logicalReasoningAlpha = document.getElementById('logicalReasoningAlpha')
      const logicalReasoningLabelMobile = document.getElementById('logicalReasoningLabelMobile')
      const logicalReasoningAlphaMobile = document.getElementById('logicalReasoningAlphaMobile')

      const dataInterpretationLabel = document.getElementById('dataInterpretationLabel')
      const dataInterpretationAlpha = document.getElementById('dataInterpretationAlpha')
      const dataInterpretationLabelMobile = document.getElementById('dataInterpretationLabelMobile')
      const dataInterpretationAlphaMobile = document.getElementById('dataInterpretationAlphaMobile')

      const numericalReasoningLabel = document.getElementById('numericalReasoningLabel')
      const numericalReasoningAlpha = document.getElementById('numericalReasoningAlpha')
      const numericalReasoningLabelMobile = document.getElementById('numericalReasoningLabelMobile')
      const numericalReasoningAlphaMobile = document.getElementById('numericalReasoningAlphaMobile')

      if (spatialAwarenessPercent == 100) {
        spatialAwarenessLabel.innerHTML = "図形や物体をさまざまな角度から見たり、回転させたりする問題を完璧に解く事ができました。<br>ロボット教室でただ漫然とロボットをつくるのではなく、頭の中で完成形をイメージしたり、組み立て写真から他のアングルをイメージしたりといった脳内での作業をよく行えているようです。"
        spatialAwarenessAlpha.textContent = "S"
        spatialAwarenessLabelMobile.innerHTML = "図形や物体をさまざまな角度から見たり、回転させたりする問題を完璧に解く事ができました。<br>ロボット教室でただ漫然とロボットをつくるのではなく、頭の中で完成形をイメージしたり、組み立て写真から他のアングルをイメージしたりといった脳内での作業をよく行えているようです。"
        spatialAwarenessAlphaMobile.textContent = "S"
      } else if (spatialAwarenessPercent >= 50 && spatialAwarenessPercent < 100) {
        spatialAwarenessLabel.innerHTML = "図形や物体をさまざまな角度から見たり、回転させたりする問題の多くを解く事ができました。<br>この力をさらに伸ばすためにロボット教室でただ漫然とロボットをつくるのではなく、頭の中で完成形をイメージしたり、組み立て写真から他のアングルをイメージしたりといった脳内での作業を行うことが重要です。たとえば「組み立て中に悩んでも、先生に聞く前に一旦もう少し頑張ってみる」といった小さな目標を立ててみるとよいでしょう。"
        spatialAwarenessAlpha.textContent = "A"
        spatialAwarenessLabelMobile.innerHTML = "図形や物体をさまざまな角度から見たり、回転させたりする問題の多くを解く事ができました。<br>この力をさらに伸ばすためにロボット教室でただ漫然とロボットをつくるのではなく、頭の中で完成形をイメージしたり、組み立て写真から他のアングルをイメージしたりといった脳内での作業を行うことが重要です。たとえば「組み立て中に悩んでも、先生に聞く前に一旦もう少し頑張ってみる」といった小さな目標を立ててみるとよいでしょう。"
        spatialAwarenessAlphaMobile.textContent = "A"
      } else {
        spatialAwarenessLabel.innerHTML = "図形や物体をさまざまな角度から見たり、回転させたりする問題が、やや苦手なようです。<br>ロボット教室でただ漫然とロボットをつくるのではなく、頭の中で完成形をイメージしたり、組み立て写真から他のアングルをイメージしたりといった脳内での作業を行うことが、この力を伸ばすための近道です。まずは、ロボット組み立てを「いまよりほんの少しだけ手早く、正確に、自力で」やってみる、ということにチャレンジしてみるとよいでしょう。"
        spatialAwarenessAlpha.textContent = "B"
        spatialAwarenessLabelMobile.innerHTML = "図形や物体をさまざまな角度から見たり、回転させたりする問題が、やや苦手なようです。<br>ロボット教室でただ漫然とロボットをつくるのではなく、頭の中で完成形をイメージしたり、組み立て写真から他のアングルをイメージしたりといった脳内での作業を行うことが、この力を伸ばすための近道です。まずは、ロボット組み立てを「いまよりほんの少しだけ手早く、正確に、自力で」やってみる、ということにチャレンジしてみるとよいでしょう。"
        spatialAwarenessAlphaMobile.textContent = "B"
      }

      if (logicalReasoningPercent == 100) {
        logicalReasoningLabel.innerHTML = "身の回りの機械を観察してそのしくみの意味を考えたり、ロボットの試作機から改善案を考えたりする問題を完璧に解くことができました。<br>「もの自体は見たことがあるが、そういえばどうしてこんなつくりになっているんだろう」というのは改めて考えると案外難しいものですが、ロボット作りを通じてさまざまな機械のしくみに注目し、その特徴やメリットを考え、言語化する習慣がしっかりついているようです。"
        logicalReasoningAlpha.textContent = "S"
        logicalReasoningLabelMobile.innerHTML = "身の回りの機械を観察してそのしくみの意味を考えたり、ロボットの試作機から改善案を考えたりする問題を完璧に解くことができました。<br>「もの自体は見たことがあるが、そういえばどうしてこんなつくりになっているんだろう」というのは改めて考えると案外難しいものですが、ロボット作りを通じてさまざまな機械のしくみに注目し、その特徴やメリットを考え、言語化する習慣がしっかりついているようです。"
        logicalReasoningAlphaMobile.textContent = "S"
      } else if (logicalReasoningPercent >= 50 && logicalReasoningPercent < 100) {
        logicalReasoningLabel.innerHTML = "身の回りの機械を観察してそのしくみの意味を考えたり、ロボットの試作機から改善案を考えたりする問題の多くを解く事ができました。<br>この力は「今何が分かっていて、何が分かっていないのか、何を知りたいと思っているのか」を言語化するのが上達の近道です。「もの自体は見たことがあるが、そういえばどうしてこんなつくりになっているんだろう」というのをお子さまと一緒に考えてみたり、ロボット作りのなかで登場した機構があればその特徴やメリットを授業後にお子さまから教えてもらうなど、「言語化」の機会をたくさん用意してあげられるとよいでしょう。"
        logicalReasoningAlpha.textContent = "A"
        logicalReasoningLabelMobile.innerHTML = "身の回りの機械を観察してそのしくみの意味を考えたり、ロボットの試作機から改善案を考えたりする問題の多くを解く事ができました。<br>この力は「今何が分かっていて、何が分かっていないのか、何を知りたいと思っているのか」を言語化するのが上達の近道です。「もの自体は見たことがあるが、そういえばどうしてこんなつくりになっているんだろう」というのをお子さまと一緒に考えてみたり、ロボット作りのなかで登場した機構があればその特徴やメリットを授業後にお子さまから教えてもらうなど、「言語化」の機会をたくさん用意してあげられるとよいでしょう。"
        logicalReasoningAlphaMobile.textContent = "A"
      } else {
        logicalReasoningLabel.innerHTML = "身の回りの機械を観察してそのしくみの意味を考えたり、ロボットの試作機から改善案を考えたりする問題の多くを解く事ができました。 この力は「今何が分かっていて、何が分かっていないのか、何を知りたいと思っているのか」を言語化するのが上達の近道です。「もの自体は見たことがあるが、そういえばどうしてこんなつくりになっているんだろう」というのをお子さまと一緒に考えてみたり、ロボット作りのなかで登場した機構があればその特徴やメリットを授業後にお子さまから教えてもらうなど、「言語化」の機会をたくさん用意してあげられるとよいでしょう。"
        logicalReasoningAlpha.textContent = "B"
        logicalReasoningLabelMobile.innerHTML = "身の回りの機械を観察してそのしくみの意味を考えたり、ロボットの試作機から改善案を考えたりする問題の多くを解く事ができました。 この力は「今何が分かっていて、何が分かっていないのか、何を知りたいと思っているのか」を言語化するのが上達の近道です。「もの自体は見たことがあるが、そういえばどうしてこんなつくりになっているんだろう」というのをお子さまと一緒に考えてみたり、ロボット作りのなかで登場した機構があればその特徴やメリットを授業後にお子さまから教えてもらうなど、「言語化」の機会をたくさん用意してあげられるとよいでしょう。"
        logicalReasoningAlphaMobile.textContent = "B"
      }

      if (dataInterpretationPercent == 100) {
        dataInterpretationLabel.innerHTML = "複雑な図面や文章から、必要な情報を完璧に読み解く事ができました。<br>問題文に対して答えを出すのではなく、情報がちりばめられた資料から問題を解くカギを見つけ、問題を解決することができているようです。"
        dataInterpretationAlpha.textContent = "S"
        dataInterpretationLabelMobile.innerHTML = "複雑な図面や文章から、必要な情報を完璧に読み解く事ができました。<br>問題文に対して答えを出すのではなく、情報がちりばめられた資料から問題を解くカギを見つけ、問題を解決することができているようです。"
        dataInterpretationAlphaMobile.textContent = "S"
      } else if (dataInterpretationPercent >= 50 && dataInterpretationPercent < 100) {
        dataInterpretationLabel.innerHTML = "複雑な図面や文章から、必要な情報を読み解く事ができました。<br>問題文に対してただ答えを出すのではなく、情報がちりばめられた資料から問題を解くカギを見つけ、問題を解決することを意識すると、より良い結果を得られるでしょう。"
        dataInterpretationAlpha.textContent = "A"
        dataInterpretationLabelMobile.innerHTML = "複雑な図面や文章から、必要な情報を読み解く事ができました。<br>問題文に対してただ答えを出すのではなく、情報がちりばめられた資料から問題を解くカギを見つけ、問題を解決することを意識すると、より良い結果を得られるでしょう。"
        dataInterpretationAlphaMobile.textContent = "A"
      } else {
        dataInterpretationLabel.innerHTML = "複雑な図面や文章から読み解くことができなかった情報がいくつかあるようです。<br>資料を読む際には、重要だと感じる単語に印をつけたり、図の中に情報を書き込んだりと、情報を取りこぼさないようにする習慣をつけると良いでしょう。"
        dataInterpretationAlpha.textContent = "B"
        dataInterpretationLabelMobile.innerHTML = "複雑な図面や文章から読み解くことができなかった情報がいくつかあるようです。<br>資料を読む際には、重要だと感じる単語に印をつけたり、図の中に情報を書き込んだりと、情報を取りこぼさないようにする習慣をつけると良いでしょう。"
        dataInterpretationAlphaMobile.textContent = "B"
      }

      if (numericalReasoningPercent == 100) {
        numericalReasoningLabel.innerHTML = "ロボットを作る上で必要な数字の処理を完璧に行うことができています。<br>ロボットの性能を計算で求めたり、設計に必要な数値を与えられた情報から計算したりと、数字の意味まで捉えて計算することができているようです。"
        numericalReasoningAlpha.textContent = "S"
        numericalReasoningLabelMobile.innerHTML = "ロボットを作る上で必要な数字の処理を完璧に行うことができています。<br>ロボットの性能を計算で求めたり、設計に必要な数値を与えられた情報から計算したりと、数字の意味まで捉えて計算することができているようです。"
        numericalReasoningAlphaMobile.textContent = "S"
      } else if (numericalReasoningPercent >= 50 && numericalReasoningPercent < 100) {
        numericalReasoningLabel.innerHTML = "ロボットを作る上で必要な数字の処理を行うことができています。<br>ロボットの性能を計算で求めたり、設計に必要な数値を与えられた情報から計算したりと、数字の意味まで捉えて計算することを意識すると、より良い結果が得られるでしょう。"
        numericalReasoningAlpha.textContent = "A"
        numericalReasoningLabelMobile.innerHTML = "ロボットを作る上で必要な数字の処理を行うことができています。<br>ロボットの性能を計算で求めたり、設計に必要な数値を与えられた情報から計算したりと、数字の意味まで捉えて計算することを意識すると、より良い結果が得られるでしょう。"
        numericalReasoningAlphaMobile.textContent = "A"
      } else {
        numericalReasoningLabel.innerHTML = "ロボットを作る上で必要な数字の処理を完璧に行うことができなかった問題がいくつかあるようです。<br>出てきた数字を使ってただ計算するだけでなく、その数字にどんな意味があるのか、問題を特にはどんな計算が必要かなどを落ち着いて考える習慣をつけると良いでしょう"
        numericalReasoningAlpha.textContent = "B"
        numericalReasoningLabelMobile.innerHTML = "ロボットを作る上で必要な数字の処理を完璧に行うことができなかった問題がいくつかあるようです。<br>出てきた数字を使ってただ計算するだけでなく、その数字にどんな意味があるのか、問題を特にはどんな計算が必要かなどを落ち着いて考える習慣をつけると良いでしょう"
        numericalReasoningAlphaMobile.textContent = "B"
      }
    }

    getExamReportData()

    Highcharts.chart('position-nationwide-chart', {
      chart: {
        type: 'column'
      },
      title: {
        text: ''
      },
      xAxis: {
        min: 10,
        max: 100,
        tickInterval: 10,
        title: {
          text: '正解率',
          style: {
            fontSize: '14px',  // Custom font size
            fontWeight: '500', // Custom font weight
            color: '#000000'   // Custom font color (optional)
          }
        },
        labels: {
          useHTML: true,
          formatter: function () {
            return this.value + '%'; // Add percentage sign
          }
        },
        tickWidth: 0
      },
      yAxis: {
        tickInterval: 5, // Set y-axis to have intervals of 5
        title: {
          text: '頻度',
          style: {
            fontSize: '14px',  // Custom font size
            fontWeight: '500', // Custom font weight
            color: '#000000'   // Custom font color (optional)
          }
        }
      },
      tooltip: {
        enabled: false
      },
      series: [{
        data: [
          { x: 10, y: 7, color: '#EBEBEB' },
          { x: 20, y: 14, color: '#EBEBEB' },
          { x: 30, y: 15, color: '#EBEBEB' },
          { x: 40, y: 16, color: '#EBEBEB' },
          { x: 50, y: 10, color: '#EBEBEB' },
          { x: 60, y: 9, color: '#EBEBEB' },
          { x: 70, y: 19, color: '#EBEBEB' },
          { x: 80, y: 2, color: '#EBEBEB' },
          { x: 90, y: 20, color: '#EBEBEB' },
          { x: 100, y: 23, color: '#10B981' },
        ],
        showInLegend: false,
        pointWidth: 40,
      }],
      plotOptions: {
        column: {
          pointPadding: 0.2,
          borderWidth: 0
        }
      },
      plotOptions: {
        column: {
          pointPadding: 0.2,
          borderWidth: 0
        }
      },
      credits: {
        enabled: false
      }
    });

    Highcharts.chart('position-company-chart', {
      chart: {
        type: 'column'
      },
      title: {
        text: ''
      },
      xAxis: {
        min: 10,
        max: 100,
        tickInterval: 10,
        title: {
          text: '正解率',
          style: {
            fontSize: '14px',  // Custom font size
            fontWeight: '500', // Custom font weight
            color: '#000000'   // Custom font color (optional)
          }
        },
        labels: {
          useHTML: true,
          formatter: function () {
            return this.value + '%'; // Add percentage sign
          }
        },
        tickWidth: 0
      },
      yAxis: {
        tickInterval: 5, // Set y-axis to have intervals of 5
        title: {
          text: '頻度',
          style: {
            fontSize: '14px',  // Custom font size
            fontWeight: '500', // Custom font weight
            color: '#000000'   // Custom font color (optional)
          }
        }
      },
      tooltip: {
        enabled: false
      },
      series: [{
        data: [
          { x: 10, y: 2, color: '#EBEBEB' },
          { x: 20, y: 14, color: '#EBEBEB' },
          { x: 30, y: 15, color: '#EBEBEB' },
          { x: 40, y: 16, color: '#EBEBEB' },
          { x: 50, y: 10, color: '#EBEBEB' },
          { x: 60, y: 9, color: '#EBEBEB' },
          { x: 70, y: 19, color: '#EBEBEB' },
          { x: 80, y: 2, color: '#EBEBEB' },
          { x: 90, y: 20, color: '#EBEBEB' },
          { x: 100, y: 23, color: '#10B981' },
        ],
        showInLegend: false,
        pointWidth: 40,
      }],
      plotOptions: {
        column: {
          pointPadding: 0.2,
          borderWidth: 0
        }
      },
      plotOptions: {
        column: {
          pointPadding: 0.2,
          borderWidth: 0
        }
      },
      credits: {
        enabled: false
      }
    });

  </script>

</body>

</html>